import PropTypes from 'prop-types';
import { useTranslation } from 'react-i18next';

export default function Country({ ny, utc, onClick }) {
  const { t } = useTranslation();

  const handlePointerUp = (e) => {
    e.stopPropagation();              // не віддаємо подію зоні
    const zoneId = e.currentTarget.getAttribute('data-id');          // "UTC+2"
    const code   = (e.currentTarget.getAttribute('data-country') || '').toUpperCase(); // "CY"
    onClick?.(zoneId, code, e);
  };

  return (
    <path
      className="country"
      data-tt="2"
      data-id="UTC+2"
      data-country="ZA"
      data-label={`${t('countries.south-africa')} ${utc}`}
      onClick={handlePointerUp}
      data-time={ny.display}
      id="RSA"
      d="M968.343 729.254L966.286 732.333L964.885 733.051L966.666 736.65L969.494 738.405L970.228 738.452L971.53 735.911L975.52 734.4L975.348 733.567L976.947 731.4L976.249 729.963L972.848 727.281L968.343 729.254ZM976.244 693.53L976.536 693.541L984.208 694.067L986.067 694.697L987.312 700.234L988.932 702.723L989.249 704.38L989.385 713.286L986.676 712.072L985.135 713.421L983.609 715.989L983.64 717.458L985.812 720.041L989.463 720.359L989.64 717.791L990.197 717.968L993.947 718.005L991.536 726.307L985.468 732.666L980.588 740.76L971.551 749.593L968.103 752.276L963.072 755.151L959.067 755.374L957.937 756.536L958.374 757.041L955.005 756.708L954.062 758.031L948.155 756.802L946.869 757.463L943.864 756.817L941.197 757.281L939.437 758.802L933.416 759.343L930.4 761.395L927.176 760.276L925.593 758.817L924.411 759.025L924.322 757.489L922.739 757.39L922.489 758.557L921.957 756.817L922.411 755.473L920.338 751.437L919.635 751.353L919.489 750.406L920.046 749.942L920.89 750.119L921.973 747.458L921.619 745.692L919.082 741.213L912.765 727.254L914.822 724.556L916.14 724.702L917.228 725.947L916.89 726.666L917.28 727.962L921.108 729.035L926.234 729.082L926.494 728.14L927.973 727.015L930.119 726.416L930.14 706.989L932.088 708.473L934.161 712.958L934.39 714.281L933.317 715.791L933.525 718.208L934.577 717.729L938.421 718.088L943.129 714.098L944.192 710.744L945.129 709.801L945.89 709.63L953.281 712.593L956.629 712.218L958.213 710.708L959.176 706.89L961.822 706.291L963.853 704.478L964.588 701.676L969.114 698.218L971.405 695.593L974.244 694.926L974.853 693.718L976.244 693.53Z"
      fill="#14D2DC"
    />
  );
}

Country.propTypes = {
  ny: PropTypes.shape({
    display: PropTypes.string.isRequired,
  }).isRequired,
};
