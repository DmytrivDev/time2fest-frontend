import { useMemo } from 'react';
import { getNextNYLocalForUtcOffset } from '@/utils/ny-time';
import clsx from 'clsx';
import styles from './Zonep5.module.scss';

import Maldivas from './Maldivas';
import Pakistan from './Pakistan';
import Tajikistan from './Tajikistan';
import Turkmenistan from './Turkmenistan';
import Uzbekistan from './Uzbekistan';
import Qazakstan from './Qazakstan';
import Russia from './Russia';

import { useIsZoneEndedById } from '@/hooks/useIsZoneEndedById';

export default function Zone({ onZoneClick }) {
  const ZONE_ID = 'UTC+5';
  const ny = useMemo(() => getNextNYLocalForUtcOffset(ZONE_ID), []);

  const zoneEnded = useIsZoneEndedById(ZONE_ID);

  const handleZoneClick = () => {
    onZoneClick?.(ZONE_ID); // клік по фону зони
  };

  return (
    <g className={clsx('zone', 'greenCtrs', zoneEnded && 'zoneEnd')}>
      <g
        className={'zoneM'}
        data-tt="1"
        data-id={ZONE_ID}
        data-flags="MV, PK, TJ, TM, UZ, KZ, RU"
        data-label={ZONE_ID}
        data-time={ny.display}
        onClick={handleZoneClick}
      >
        <path
          d="M1165 34V0H1239.15V45.6592H1206V71H1219.5V140L1221 142L1223 143H1225.5L1228.5 144.5L1227.5 145.5V146.5L1226 147.5H1224L1223 149L1223.5 150L1224.5 150.5L1227 151.5L1229.5 152L1231 158H1228L1226.5 159.5H1225.5L1224.5 161L1224 160.5L1222 162.5L1222.5 164.5L1224.5 165L1225.5 166.5L1227 167.5L1231 168L1232 169L1235 168L1235.5 167L1236.5 167.5L1237 169L1239 169.5V170.5L1240 172L1241 172.5L1242 173.5L1239.5 174.5L1240.5 175V176.5L1239 177.5L1238.5 179.5L1236 180L1236.5 181.5H1237.5V182.5L1239 183L1238.5 185L1238 185.5V186L1242 188.5L1243.5 190.5L1242.5 191V192L1244.5 194.5L1244 196.5L1244.5 197.5H1247L1248.5 198.5V199.5L1249.5 200V201.5L1248.5 204.5H1251.5L1252.5 206L1255 205.5L1256 206V208.5L1257 209.5L1256.5 211.5L1252.5 215.5L1253.5 216L1254 217H1255L1254 218.5L1254.5 219.5V220L1249 226L1249.5 228L1250.5 229L1256.5 231L1255 233L1248.5 236H1246.5L1245 234.5H1243L1238 238.5L1236 237.5L1233 238L1232.5 237L1230.5 236.5L1227.5 237.5H1224V236.5L1223 236L1217 237L1216 236.5L1213 236L1212.5 238L1211.5 239V240.5L1210.5 245L1208.5 246L1206.5 247L1205 250.5L1202.5 253L1198.5 256H1193L1191.5 257L1188 256.5L1187.5 256H1184V254L1182 253L1180 259L1181 260.5L1180 261.5L1181 262.5L1182.5 261.5L1183.5 262.5L1185.5 264.5V265.5L1183 266.5L1182.5 267L1182 268V269.5V270.5L1181 272L1180.5 273L1181 274L1178.5 277L1176 275.5H1172.5V276L1172 275.5H1171V276.5L1169 278L1167.5 278.5L1157.5 280.5H1155.5L1154 281.5L1153.5 282.5H1149L1147.5 283H1147L1141 284.5L1140.5 285.5L1140 285H1136L1135 284.5L1133.5 285.5L1134 286L1133.5 287.5L1135.5 288V288.5H1134.5L1134 289.5L1138.5 291L1138 292L1136 291.5L1134 292H1133L1131.5 293.5L1133 296L1131 297L1128.5 298.5L1130 300.5L1135.5 302.5L1137 303L1138 304H1139L1140 305.5L1139 306.5L1140 307L1142.5 311.5L1141 312L1139.5 314.5L1140.5 316L1140 316.5L1142 318.5H1143L1144 320L1146.5 321L1149 324.5V325L1142.5 329.5L1148 333L1150.5 333.5L1152 334H1156L1156.5 335V336.5L1156 338L1157 338.5L1157.5 341L1159.5 344L1157.5 346L1153.5 349.5L1153 351L1157.16 355.204H1158V361H1160.5L1161.5 366H1167.5L1168.5 366.5L1168 368L1170 369H1171V367L1172.5 365.5L1182 359.5L1183.5 360L1178.5 363.5L1180 364.5L1181 364L1181.5 365.5L1184.5 366L1185 365H1185.5L1186 364L1187.5 365.5H1188L1188.5 367L1193 368L1190.5 369.5H1189.5V370.5L1188.5 370L1188 371L1186.5 372L1184.5 371L1182 371.5L1180.5 373L1180 372.5L1177.5 371.5L1175.5 372L1174.5 373V375.5L1177.5 375L1183 376L1185 375L1185.5 376H1186L1186.5 377L1189 377.5L1190 376.5L1195.5 376V377L1196.5 378.5L1196 379.5L1196.5 380.5H1199L1201.5 382L1202.5 387L1203.5 387.5L1202 388.5L1203 390L1206.5 391.5L1207.5 393.5L1207 395L1208 396.5L1210 396L1210.5 397L1212 398L1217 398.5L1212.5 400.5L1211 402.5L1206 404L1200 403L1197 403.5L1196.5 404.5L1197.5 405.5L1197 406.5L1198.5 407L1197.5 408.5L1198 409.5V410L1197.5 411.5L1199 413.5H1201V415L1204 416L1203.5 417L1200.5 418.5L1200 419.5L1200.5 423L1197 427V428L1194.5 429L1192 434L1190 435L1186 440L1181.5 441L1180 439.5L1178.5 440.5L1175 444.5V446L1178.5 447.5L1178 449.5L1179 451.5L1181 452L1183 457L1182.5 458.5H1183L1181.5 459.5L1180.5 458.5L1177.5 460L1171.5 459L1171 461H1169.5L1168.5 462L1169 463H1170L1170.5 465L1173.5 467V469H1172.5V470L1173.5 470.5L1179.5 477L1182.5 477.5L1187.5 475.5L1188.5 474.5H1190.5L1191 476L1192 476.5L1191.5 480L1191 481V483.5L1191.5 484L1191 485L1192 486L1191.5 488L1192 488.5V489.5L1193 490.5L1192 491L1194.5 501.5L1197 505H1196L1198.5 507.5L1197.5 508.5L1199.5 510L1201.5 517V518.5L1206 525.5L1209 532.5V536L1210 536.5L1210.5 537.5L1210 538L1213 541L1215 542L1217.5 540L1218 538L1219 537L1221.5 536L1224 536.5L1225 538L1227 549L1228 551.5L1230 552.5L1235.5 549.5L1236.5 547L1235.5 543.5L1230.5 535L1226.5 530.5V527L1225.5 525.5L1226.5 525L1226 523L1228.5 518.5L1229 515L1227.5 511V506L1228.5 503.5L1230 502.5L1232 503L1234 500L1235.5 500.5L1239.31 498.5V912H1165V460.5H1164.5L1163.5 456.5L1161.5 456V454.5L1160 452.5L1159.5 453.5L1154 454L1151 454.5L1149.5 454L1148.5 453L1148 454H1146.5L1145.5 454.5L1141 454L1140 455L1139 454.5L1137 455V454.5H1136L1137 449L1140 447.5L1143.5 447L1144.5 444L1142 443.5V438.5L1137.5 436.5L1132.5 429.5L1141 432L1146.5 431.5L1148.5 432L1150.5 431L1156 430.5L1159 429.5L1160 423.5L1162.5 421.5L1165 422L1166.5 421.5L1165.5 420.5L1168 419.5L1170.5 419L1172.5 420L1174 418.5V415L1175 414.5V412.5L1177 412L1179 410.5L1177 407.5V406.5L1180 407L1183 406.5V405L1182.5 403.5L1185 401.5L1186 400L1185 398L1183.5 395.5L1185.5 393L1186.5 393.5L1190.5 391L1196 390.5L1197.5 391L1199.5 390H1202L1201.5 388.5L1198.5 387.5L1196 388.5V388L1193.5 387.5L1191 389.5L1185.5 391.5L1184.5 389.5L1185 384.5H1184V383.5L1182.5 381.5H1181.5L1178.5 384.5L1179 386L1178 387H1175L1174 389L1172.5 388L1169 389.5L1168 390.5L1166.5 389H1164L1163 388H1159L1156.5 387L1155.5 388.5L1152 389.5L1150.5 393.5L1149.5 394.5L1143.5 396.5L1144 397.5L1142.5 399L1139.5 400L1138 399L1134.5 397.5L1134 392H1130L1128.5 390L1126.5 389.5L1125 387.5L1124 386.5L1119.5 386L1118 385L1115 384.5L1114 383L1110.5 382.5L1109.5 384H1106L1104 384.5L1101.5 387.5L1098 388L1086 378L1083 364L1074.5 353.5V343L1078.5 337.5L1078 337L1071 332.5L1071.5 332L1072.5 332.5L1074 332L1069.5 326L1069 325.5L1065.5 326L1064.5 325.5V322.5L1061.5 321.5L1062 320L1064 317L1063.5 316L1063 315.5L1063.5 312.5L1065 311L1066 309H1067.5L1071 312.5L1073.5 311.5L1072.5 310.5L1071.5 307L1072.5 307.5L1075.5 306V305L1080.5 303L1081.5 301H1082.5V300L1086 297.5L1086.5 293.5L1087 294L1087.5 292.5L1089 291.5L1089.5 288.5L1091 284.5L1090.5 283L1091 282.5H1092.5L1093.5 283L1095 284.5H1096L1095.5 282L1096.5 280L1096 279L1095 278V277L1097 276L1098 275.5L1098.5 274L1099.5 273.5L1097 271.5L1100 269.5V268.5L1099 267.5V266.5H1098V265.5L1099 264.5L1100 264V262.5L1099.5 261.5V260.5L1098.5 260L1099 259L1098.5 257L1098 256V255L1097 252.5L1098 251.5L1097 250.5V249L1095 248.5L1094.5 247L1095 246.5L1095.5 245L1096.5 244.5L1097 242.5L1095.5 241L1093.5 241.5L1090.5 240.5L1089.5 239L1089 238.5L1087.5 238L1088 236H1090L1091 235L1092 235.5L1093 234.5H1095L1095.5 236H1097.5L1098 235L1103 236L1104 235L1105 234L1107 234.5L1108 233L1109.5 233.5L1112 231L1114.5 231.5L1122 231L1125 230V226.5L1126 223.5L1125 222L1125.5 220H1124.5V217.5L1127 211.5V211L1126 210V208H1125.5L1126.5 207L1127 205L1128.5 203.5H1130L1131.5 204.5L1132.5 203.5L1134 202.5L1135.5 200L1137.5 198.5L1142 197L1143 194H1144.5L1145.5 192L1148 190.5H1149.5L1151 189.5L1153.5 188.5L1154.5 186L1158 183.5V183H1157L1158.5 181.5L1158 181L1157.5 180H1155.5L1154.5 179V177L1156 174.5L1155 173.5L1154.5 172.5L1150.5 171.5V170.5L1153 168.5V153.5L1177.5 116V34H1165Z"
          fill="#D9D9D9"
          fillOpacity="0.01"
        />
      </g>
      <Maldivas ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Pakistan ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Tajikistan ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Turkmenistan ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Uzbekistan ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Qazakstan ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Russia ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
    </g>
  );
}
