import PropTypes from 'prop-types';
import { useTranslation } from 'react-i18next';

export default function Country({ ny, utc, onClick }) {
  const { t } = useTranslation();

  const handlePointerUp = e => {
    e.stopPropagation();
    const zoneId = e.currentTarget.getAttribute('data-id');
    const code = (
      e.currentTarget.getAttribute('data-country') || ''
    ).toUpperCase();
    onClick?.(zoneId, code, e);
  };

  return (
    <g
      id="Algeria"
      className="countryGr"
      data-tt="2"
      data-id={utc}
      data-country="DZ"
      data-label={`${t('countries.Algeria')} ${utc}`}
      onClick={handlePointerUp}
      data-time={ny.display}
    >
      <path
        d="M862.089 390.4L862.631 389.562L865.433 390.676L867.095 389.614L869.412 390.129L869.6 390.65L873.819 390.348L871.647 392.864L872.579 393.666L872.136 395.885L872.949 399.911L872.079 402.765L868.454 406.265L868.261 407.265L869.376 410.124L872.194 413.27L872.475 415.03L876.095 417.952L878.345 427.588L877.303 428.332L879.808 433.244L879.735 438.181L880.381 440.567L879.334 443.348L879.871 447.609L878.772 448.103L877.74 449.577L880.199 452.984L881.058 456.489L882.001 457.723L882.793 458.296L884.173 457.853L887.912 459.093L890.47 463.312L867.871 477.328L859.913 484.437L852.152 485.974L849.902 486.406L846.756 486.203L847.355 484.755L847.09 482.489L842.09 480.14L839.928 479.916L838.954 478.5L836.923 477.76L836.751 475.791L807.35 455.557L788.24 443.421V435.817L793.256 432.218L797.62 431.02L798.506 431.202L799.089 429.765L803.777 429.359L806.292 426.838L813.23 423.551L813.303 422.906L812.204 422.525L812.688 421.223L812.12 420.796L812.287 419.593L813.756 419.739L815.886 419.025L817.079 417.463L819.6 417.088L825.277 417.364L824.912 416.692L825.954 415.03L824.704 414.098L822.579 408.557L822.766 404.176L821.964 403.437L822.454 402.687L820.204 400.833L824.402 399.53L825.667 397.822L827.006 397.098L829.126 396.27L830.573 396.906L832.922 394.692L839.563 392.583L843.876 392.348L845.912 391.109L846.849 391.484L851.131 390.635L853.875 390.65L858.011 391.958L862.089 390.4Z"
        fill="#5DBD39"
      />
    </g>
  );
}

Country.propTypes = {
  ny: PropTypes.shape({
    display: PropTypes.string.isRequired,
  }).isRequired,
};
