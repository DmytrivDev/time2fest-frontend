import { useMemo } from 'react';
import { getNextNYLocalForUtcOffset } from '@/utils/ny-time';
import clsx from 'clsx';

import Dominicana from './Dominicana';
import Canada from './Canada';
import Grenada from './Grenada';
import Brazil from './Brazil';
import Martinique from './Martinique';
import Curasao from './Curasao';
import Barbados from './Barbados';
import Aruba from './Aruba';
import Dominica from './Dominica';
import TrinidadAndTabago from './TrinidadAndTabago';
import SaintLucia from './SaintLucia';
import PuertoRico from './PuertoRico';
import AntiguaAndBarbuda from './AntiguaAndBarbuda';
import Bonaire from './Bonaire';
import Guadelupe from './Guadelupe';
import SaintVincentSndGrenadines from './SaintVincentSndGrenadines';
import Anguila from './Anguila';
import SaintKitsAndNevis from './SaintKitsAndNevis';
import Venesuela from './Venesuela';
import Gayana from './Gayana';
import Bolivia from './Bolivia';

import { useIsZoneEndedById } from '@/hooks/useIsZoneEndedById';

export default function Zone({ onZoneClick }) {
  const ZONE_ID = 'UTC-4';
  const ny = useMemo(() => getNextNYLocalForUtcOffset(ZONE_ID), []);

  const zoneEnded = useIsZoneEndedById(ZONE_ID);

  const handleZoneClick = () => {
    onZoneClick?.(ZONE_ID); // клік по фону зони
  };

  return (
    <g className={clsx('zone', 'yellowCtrs', zoneEnded && 'zoneEnd')}>
      <g
        className="zoneM"
        data-tt="1"
        data-id={ZONE_ID}
        data-flags="DO, CA, GD, BR, MQ, CW, BB, AW, DM, TT, LC, PR, AG, BQ, GP, VC, AI, KN, VE, GY, BO"
        data-label={ZONE_ID}
        data-time={ny.display}
        onClick={handleZoneClick}
      >
        <path
          d="M571.5 36.3047V0H497V27L502.5 28L503.5 29.5L508.5 30L508 29.5L516.5 29L517 29.5L516.5 30.5L519.5 32L518 33.5L520 33H526.5L528.5 35L533 37.5L537 39L543 37.5L556.707 35.4586L561.5 34.5L568.5 35L570.8 36.3047H571.5Z"
          fill="#D9D9D9"
          fillOpacity="0.01"
        />
        <path
          d="M516 103L497 108V158.5L499.5 160.5L501 162.5L501.5 165L501 166.5L502.5 167L503 168.5V170.5H500.5L499.5 172L500 174L503 174.5L508.5 177.5H511L514 179L515 180.5L517.5 181.5L519.5 183.5L524 185L526 186.5L530 191L529 193.5L527 195L526.5 196.5L525 197.5L523.5 200L520.5 202L520 204L519 205.5L517 206H515H512.5L511.5 210.5L513.5 211.5L516.5 216.5L514 220.5L514.5 224L512 227L514 231L511.5 234L512 236.5L514 238L512 240L510 240.5L511 241.5L510 242L511 243L510.5 244V245V245.5L511 246.5L512.5 246L512 247V248V249.5H511L510.5 250L511.5 250.5L513 251L514 251.5L516 250.5L516.5 251.5L514.5 252.5L514 253L515 253.5L513.5 254.5L512.5 256V256.5H513L514 258.5H514.5L516 259.5L515.5 260L515 262L515.5 263L513.5 266L515 268H514V269L514.5 269.5V270.5L516.5 271L516 272L517 274L518.5 274.5V275.5L516.5 277L517 278L516 280.5L515.5 281L513 280H506L505 278.5L503 278L501 276H500.5L501.5 279L501 279.5H500.5L498 278L498.5 280L499 280.5L498 281.5L497 281L496.5 281.5L497 283L496.5 284L496 284.5L497 286.5L497.5 288H498.5L499.5 289L500 289.5L499.5 290.5H498.5H498L497.5 291L498 292.5H499V293L500 293.5H501L501.5 292L502 291.5L503 292.5L502.5 293.5L502 296L502.5 297L503.5 296.5L504.5 298L506 297.5L507.5 298.5L508.5 300H511L511.5 301H512L513 300V298.5L513.5 297.5V294L514 293.5L515.5 293H516.5L517.5 294L514.5 294.5V295L515 295.5L516 297.5V298.5H523.5L524.5 300L525.5 302.5V303L526.5 304.5L526 305L525.5 306L526 307.5V309V310V310.5L527.5 316V316.5L526 318L517.5 321L516.5 322L507.5 324.5L503 324H500.5L499.5 325H497.5L496.5 324.5H494.5H493.5L492.5 325L492 327L490 328.5L490.5 329L493.5 328.5L495.5 330V338.5L497.5 339L497 340L497.5 341.5L498.5 342L499.5 344L497 347.5V482H475.5L476.5 484.5L476 485.5H476.5L476 486.5L475.5 487L476 487.5V488L475 489L476 490V492V518.5L480 519.5L481 522.5L475 524L474 526L473.5 526.5L472 527L470.5 530L469.5 534L468 536H469H470V536.5H471V537L473 541L472.5 544L473 545L474 545.5L475 547H479.5L481 546.5L484 547.5L487.5 551.5H488L495.5 550.5L497 551L497.5 552L495.5 555.5L495 559.5L496.5 563.5L498 564.5V565L495.5 568H496.5L498 569.5L499 572.5L500.5 576H499V574L498 572L497.5 571.5L495 573L493.5 572V573V573.5H485.5V576.5H488L488.5 577L489 578.5H487.5L484.5 579V582.5L486.5 584.5L487.5 587.5L485 603L500.5 631V631.5L496 635L493.5 635.5L493 636.5L492 637H491.5L487 636.5L491 644V644.5L490 646.5L489 650L490 652L490.5 652.5L490 653L488 655.5L488.5 657.5H489L487.5 660L488.5 662.5H489V662L490 663L490.5 663.5L486.5 668V668.5L487 669.5L488 672H489L489.5 676.5L492.5 679.5L491 680.5L492 681.5L491.5 682.5H490.5L491 684.5L492 685.5V687L493.5 688.5L495.5 695.5V696.5H498.5L501.5 693.5L503 693L503.5 691.5L506 693H509L511 693.5L511.5 694L513 697L515 692.5H520L521 693.5L523 687.5V684.5L525.5 680.5L534 678.5H538.5L543 681L543.5 683L545 687L544 693L550 694L552 693L553 694L555 694.5L556 696L556.5 701L557.5 703L559.5 702.5L562.5 703H563.5L564 700L565.5 699.5L566 697L568 696L571.5 693.5L573.5 691V690L574.5 689.5V688L575.5 687L576 685.5L579 682.5V679.5L578 678.5L571.5 675.5L569.5 675L570 674L568.5 673.5V671.5L567.5 670L568 668L569 666L570.5 664.5V663L573 661L574.5 660.5L576 657.5L578 656L579.5 652V650L581 648L581.5 646L580.5 644.5V640L580 639L581 634L582 632V631L550 628.5L546 625V622.5L544 619L542 615.5L542.5 614L552.5 593L550.5 592.5L550 592L546.5 590L543.5 588L542 586.5L540.5 585V584H540V581L539 575.5L540 576L541.5 575.5V574.5L546.5 573.5L547.5 572H551.5L550.5 571.5L548.5 568.5L547.5 565.5L546 565L544 561.5L545 557.5L547.5 557L548 555L548.5 552.5H551L554.5 553.5L555 552.5L558 553L558.5 552.5H560L564 553L566 554L569.5 555.5L571.5 557V334L536.5 334.075V311.5L548.5 303.5V293.5L546.5 291.5V289.5L549 286L551.5 285.5L554.5 287.5L557 290.5L556.5 298L559 296.7H571.5V202.5L568.5 199.5L568 199L566 196L565 193L566 190L565.5 188L564 186.5L565.5 181L567 176.5L566 168.5L563 167.5L559 164.5V157.5L560.5 155.5L563 154L560.5 149.5L554.5 146.5L556 143.5L555.5 133.5L547.5 124L544.5 113.5L541.5 112L538 106.5L529.5 103.5L516 103Z"
          fill="#D9D9D9"
          fillOpacity="0.01"
        />
        <path
          d="M500 892.5H497V912H571.5V869.5H526.5V857.5H571.5V751L569.5 753L567 755L566.5 756L565 759L562.5 760V761L559.5 762H559L557 761.5L554 762L548 759.5H546.5L546 760L545.5 762L546 762.5L548 764L548.5 765L547 767L548 769L549.5 770H550L550.5 773V773.5L545 781L543 782L536 784L528.5 785H527H526.5L524 787.5L523.5 789L523 790L522 793L523 795L522.5 796L519 798H516L511 796.5L510 795.5H509.5L508.5 796.5L509.5 800L509 803L511.5 805.5H512.5L514 804.5L513 804L515.5 803.5L516.5 805L516 807.5L509.5 810.5L507.5 813.5L508.5 814.5L508 817L506 819V819.5L506.5 820.5V821L503.5 820.5L499.5 822.5L496.5 827L497 830L501 833.5L505.5 834.5V837L505 838L504.5 838.5L505.5 839L505 840.5L499.5 843.5L497 845.5L495.5 848H496.5L495.5 851.5L493 853L492.5 853.5L490.5 854L489 856.5L488.5 859L489.5 863L497 878.5L503.5 882.5L506 883L509 882.5L511 883H515.5L516 884L511 885.5L508 885L502 886.5V890L500 892.5Z"
          fill="#D9D9D9"
          fillOpacity="0.01"
        />
      </g>
      <Dominicana ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Canada ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Grenada ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Brazil ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Martinique ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Curasao ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Barbados ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Aruba ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Dominica ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <TrinidadAndTabago ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <SaintLucia ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <PuertoRico ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <AntiguaAndBarbuda ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Bonaire ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Guadelupe ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <SaintVincentSndGrenadines ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Anguila ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <SaintKitsAndNevis ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Venesuela ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Gayana ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Bolivia ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
    </g>
  );
}
