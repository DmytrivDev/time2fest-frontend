import { useMemo } from 'react';
import { getNextNYLocalForUtcOffset } from '@/utils/ny-time';
import clsx from 'clsx';

import Australia from './Australia';
import Indonesia from './Indonesia';
import Brunei from './Brunei';
import Malaysia from './Malaysia';
import Singapur from './Singapur';
import Philipines from './Philipines';
import Taiwan from './Taiwan';
import China from './China';
import HonkKong from './HonkKong';
import Macao from './Macao';
import Mongolia from './Mongolia';
import Russia from './Russia';

import { useIsZoneEndedById } from '@/hooks/useIsZoneEndedById';

export default function Zone({ onZoneClick }) {
  const ZONE_ID = 'UTC+8';
  const ny = useMemo(() => getNextNYLocalForUtcOffset(ZONE_ID), []);

  const zoneEnded = useIsZoneEndedById(ZONE_ID);

  const handleZoneClick = () => {
    onZoneClick?.(ZONE_ID); // клік по фону зони
  };

  return (
    <g className={clsx('zone', 'yellowCtrs', zoneEnded && 'zoneEnd')}>
      <g
        className={'zoneM'}
        data-tt="1"
        data-id={ZONE_ID}
        data-flags="AU, ID, BN, MY, SG, PH, TW, CN, HK, MO, MN, RU"
        data-label={ZONE_ID}
        data-time={ny.display}
        onClick={handleZoneClick}
      >
        <path
          d="M1367 212L1366 210L1368 209.5L1369.5 213L1369 213.5H1367L1366.5 215L1369.5 215.5L1372.5 217L1374 221L1373 221.5L1372.5 223V224L1375.5 225V226.5L1374 228.5L1375 231L1374.5 232.5L1378 234.5L1377 236V237L1376 237.5L1374.5 241V242.5L1372 247.5L1373 248L1375 250L1378 249.5L1379 248L1381.5 248.5L1382.5 248H1384H1385L1386 247L1386.5 246.5L1387 247L1387.5 247.5L1388.5 248L1388 249.5V250.5L1388.5 249.5L1389.5 249L1392.5 248V247L1394 245.5L1396 244.5L1398.5 242.5L1398 241.5L1399 241H1400L1401.5 239.5L1404 238.5L1411.5 242.5V245.5L1414 246.5L1415.5 245.5L1419.5 247L1418.5 248.5L1420.5 253.5V255L1418 255.5L1417 254H1413.5L1412.5 254.5V256.5L1411 258L1411.5 260L1413.5 262L1413 263.5L1410.5 265.5L1407 265L1405 264.5H1404.5L1403.5 265L1402.5 266.5L1403 267.5L1404 270.5V273L1405 275.5H1407L1409 277.5L1409.5 279.5L1408 281.5L1403 282L1399.5 285L1395 287V287.5V289L1396.5 291V293.5H1395L1392.5 295L1390.5 295.5L1387.5 297L1386 296.5H1385L1383 299L1380.5 299.5L1378 301.5H1377.5L1375 301L1372 302L1369 301.5L1367.5 302.5V304L1366 306.5L1368.5 307.5L1368 308L1364 310.5V311.5L1365.5 312L1366 314L1368.5 315.5H1371.5L1379.5 317L1390 314.5L1393.5 311.5L1396 310H1399.5L1403 312L1406.5 311.5L1409 312.5L1414.5 314.5L1418 312L1422 310.5V307L1425 302L1429 297.5L1428.5 296.5V295L1427.5 294L1425.5 294.5V293.5L1429.5 290L1443 288L1448 290.5H1450.5L1453 291.5L1455 293V294.5L1457.5 297.5L1457 298.5L1459 303H1459.5L1460 305L1462.5 310V311.5V312L1464 314H1467L1471 315.5L1472 315L1476 318.5H1478L1477.5 320V320.5L1478.5 321V322.5L1478 323.5L1479 325L1479.5 326H1487L1487.5 325L1490 323.5L1496.5 321.5H1499L1497.5 324L1498 326L1495.5 328.5L1493.5 335.5L1492 337.5V339L1490 340V342L1488.5 342.5L1484.5 341.5L1484 341L1483.5 340.5L1482 342.5L1479.5 343.5L1480.5 347.5L1481 352L1480 355.5L1477 356.5L1477.5 357V358.5L1476 357V355.5L1474 355L1473 357.5L1471 358.5L1469.5 360L1465 361L1466.5 363.5L1465.5 364.5L1461 364L1459.5 362L1458.5 362.5L1455 367.5H1453L1451 369.5L1446.5 372L1445.5 373.5V445.5H1437.5V466.764H1462V571L1445 591L1451.5 623.5L1444 626.5L1444.5 628L1446.5 629.5L1447.5 627.5L1449.5 626L1451 626.5L1450.5 629V630L1462 637.197V651L1467 655.5H1469.5V739L1462 742.5V912H1388V627H1399V625.5L1397.5 623.5L1398 621.5L1400 620L1405 619.5L1407.5 617L1404.5 614.5L1394.5 610.5L1394 610L1397 599L1397.5 596.5L1399 595L1400 593H1401L1402 592L1403 589.5L1404.5 588.5V587.5L1402.5 585.5L1402 583.5V582L1400.5 582.5L1400 580L1400.5 578.5L1394.5 579L1395 577.5V577L1396.5 576V575H1396L1394 576L1390.5 574.5V574L1386.5 575L1386 576L1384 577L1381.5 576.5L1378.5 577.5L1374.5 574.5L1373.5 573L1374 571.5V558H1350.5V576H1343V576.5L1335.5 571.5L1327.5 565.5L1319.5 558L1317.5 555L1317 553L1317.5 552.5L1325.5 549.5L1326.5 550L1327 548.5L1328 549.5H1329.5L1330 550L1330.5 551H1331.5L1331 553L1332 554L1333.5 553L1334.5 553.5L1335.5 553L1336.5 551H1388V508L1366.5 497.5V475L1365.5 474L1363 473.5L1362.5 473L1361 471.5H1359L1358.5 469L1360 467L1355 466.5L1352.5 464L1351 465L1349.5 467L1347.5 467.5V467H1347L1346 468.5H1345.5L1344 467L1343.5 468L1342.5 467L1341 469L1338.5 467.5L1337 469L1334.5 468.5L1334 470L1335 472V475L1334.5 475.5H1332.5L1331.5 472.5L1327.5 474H1327L1326 472.5V471L1322 470.5L1323 467L1324 466.5V466L1323.5 465.5L1321 465L1320 461.5L1320.5 460L1319 460.5L1317 460L1314.5 461.5L1314 461L1315 459.5L1314.5 458.5H1314V457L1315.5 456V454L1316.5 453.5L1317 452.5H1318L1319.5 451L1319 449.5L1320 448V446V442L1319.5 441.5H1318L1317.5 441L1316.5 438L1314.5 437H1314L1313 438.5L1311.5 437.5H1308L1309.5 435.5L1309 434L1307.5 435L1307 434.5V434L1308 433L1307 432H1306.5L1303 434L1300.5 433L1299.5 432.5L1296.5 435L1295.5 435.5L1293 436L1292.5 436.5L1292 437.5L1290 439V439.5L1289 440.5L1285 441V440L1283 439L1281.5 439.5L1278.5 439V438H1277L1274 439.5L1271.5 443H1271L1270.5 442L1271 439.5L1270 439L1267.5 440.5H1265L1261.5 440L1260.5 439L1259.5 440L1258 439L1257 440L1255.5 438H1252.5L1253 436.5H1251L1248 434.5L1247.5 433L1245.5 433.5L1243 431L1241 430.5L1238.5 429L1237 427L1234.5 426.5L1233.5 428.5H1232.5L1232 427.5L1228.5 426V425L1227 424L1224 423L1222.5 421L1221.5 422L1221 420.5V418.5L1219.5 416.5L1219 415L1221 414.5L1222 416L1223.5 415L1224.5 414V413L1224 411.5L1223 411L1222 410.5V409H1222.5L1222 407H1223.5L1225 405.5V404.5H1225.5L1228 401.5L1229 399L1228.5 398.5L1227.5 399L1224 396H1223.5H1220.5L1217.5 398V398.5L1212 398L1210 397V396L1208 396.5L1207 395L1207.5 393.5L1206.5 392L1203 390H1200L1199.5 389L1202 388.5L1203 387.5L1202.5 387L1201.5 382L1199 380.5L1196.5 381L1196 379.5L1196.5 378.5L1195.5 377.5V376L1197 375L1197.5 372.5L1201.5 371V370H1203.5L1205.5 369L1206 371L1208.5 370.5H1209L1212.5 366.5L1218.5 366L1220.5 364L1228.5 360.5L1228 357L1228.5 356L1230 355.5L1229 355L1231 354L1229.5 349L1229 346V345L1229.5 344.5L1228.5 344H1227L1226.5 343.5L1227.5 342.5L1235.5 340.5L1236 341.5H1240V340L1238.5 339.5L1242 329L1246.5 330.5H1250L1252 331L1254.5 330L1255.5 328.5L1254.5 324.5L1255.5 322L1260 320.5L1260.5 319.5L1261 317L1266 316.5L1265.5 318.5L1267 320L1266.5 320.5L1269.5 322L1270 323L1272 324H1274L1275 325H1277L1278.5 326.5L1281.5 332.5V336.5L1280 340L1281 341.5L1294 343L1301.5 347.5L1303.5 347L1303 348.5L1304 349L1306 353.5L1308.5 356.5H1312H1315.5L1315 353.5L1316 351V347L1317.5 345.5V343.5L1318 342L1318.5 339.5L1317.5 337L1314.5 334.5V332.5L1315.5 329.5L1316.5 329L1318 327L1317 326.5L1317.5 324L1319.5 323L1320 322.5L1321.5 322V320.5L1322 319L1321.5 317H1320L1318.5 318L1317 317.5H1315.5L1313 316.5H1312L1310.5 315L1312 313H1313L1314.5 312L1317 310.5L1317.5 308L1316.5 307L1315.5 304.5L1316.5 302L1317.5 301.5L1318.5 299.5L1320 298L1320.5 297L1319.5 296L1320.5 293L1322 292.5L1321.5 292L1321 291H1319.5H1318L1317.5 290L1316 289L1314.5 289.5L1313 287.5L1310.5 287L1309 287.5L1306.5 285V284.5L1305 283L1307 281L1309 281.5L1310 278.5L1309.5 278L1310.5 275L1310 273L1311 271L1313.5 270.5L1314 268.5H1315.5V267.5L1315 267V266L1313.5 265.5L1314 264.5L1313.5 264L1313 263.5L1316 258.5H1320L1321 259L1323.5 258.5L1325 256.5H1326.5L1327 258L1328 259L1328.5 260.5L1330 261.5L1330.5 260.5L1330 258H1331.5V256L1334 255.5L1335 254L1337 253.5L1338.5 252L1338 249L1340 248.5L1341 247.5L1342.5 248V249L1344 250.5H1345.5V251.5H1347L1348 252.5H1350V250.5L1352.5 249L1352 246.5H1351L1350 245L1351.5 243.5H1353L1353.5 240.5H1350.5L1349 239.5L1348.5 237V236L1350.5 234L1351 233.5L1350 232.5L1352.5 232L1354 230.5L1355.5 230L1355 229L1357.5 227.5L1358 226L1357.5 225.5L1359 224V222.5H1358.5L1358 221L1357 220.5L1356.5 219.5L1357.5 219V217.5H1359L1358.5 216L1359.5 213V212L1363.5 213L1365 212H1367Z"
          fill="#D9D9D9"
          fillOpacity="0.01"
        />
        <path
          d="M1388 86.5005V-0.00039655L1462 -0.00195312V63.0005L1425 86.5005H1388Z"
          fill="#D9D9D9"
          fillOpacity="0.01"
        />
      </g>
      <Australia ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Indonesia ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Brunei ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Malaysia ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Singapur ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Philipines ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Taiwan ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <China ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <HonkKong ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Macao ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Mongolia ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Russia ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
    </g>
  );
}
