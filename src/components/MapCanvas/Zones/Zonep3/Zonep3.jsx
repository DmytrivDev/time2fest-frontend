import { useMemo } from 'react';
import { getNextNYLocalForUtcOffset } from '@/utils/ny-time';
import clsx from 'clsx';

import Mayotta from './Mayotta';
import Madagaskar from './Madagaskar';
import Tanzania from './Tanzania';
import Djibuti from './Djibuti';
import Ethiopia from './Ethiopia';
import Keniya from './Keniya';
import Uganda from './Uganda';
import Soomalia from './Soomalia';
import Belorus from './Belorus';
import Russia from './Russia';
import Jordan from './Jordan';
import Türkiye from './Türkiye';
import Qatar from './Qatar';
import Syria from './Syria';
import Iraq from './Iraq';
import Yemen from './Yemen';
import SaudiArabia from './SaudiArabia';
import Bahrain from './Bahrain';
import Eritrea from './Eritrea';
import Kuwait from './Kuwait';
import Comoros from './Comoros';

import { useIsZoneEndedById } from '@/hooks/useIsZoneEndedById';

export default function Zone({ onZoneClick }) {
  const ZONE_ID = 'UTC+3';
  const ny = useMemo(() => getNextNYLocalForUtcOffset(ZONE_ID), []);

  const zoneEnded = useIsZoneEndedById(ZONE_ID);

  const handleZoneClick = () => {
    onZoneClick?.(ZONE_ID); // клік по фону зони
  };

  return (
    <g className={clsx('zone', 'redCtrs', zoneEnded && 'zoneEnd')}>
      <g
        className="zoneM"
        data-tt="1"
        data-id={ZONE_ID}
        data-flags="MG, YT, TZ, DJ, ET, KE, UG, SO, BY, RU, JO, TR, QA, SY, IQ, YE, SA, BH, ER, KW, KM"
        data-label={ZONE_ID}
        data-time={ny.display}
        onClick={handleZoneClick}
      >
        <path
          d="M1016.5 50.1719V0H1091V34H1177.5V115.5L1153 153.5V168L1151.5 169.5L1150.5 170.5L1151 171.5L1154.5 172.5L1156 174.5L1154 177.5L1154.5 179L1155 180L1157.5 179.5L1158.5 181.5L1157 182.5L1157.5 183L1158 183.5L1154.5 185.5L1153 188.5L1151 189.5L1148.5 190L1145.5 191.5L1144.5 193.5L1143 194L1142.5 196.5L1139.5 197.5L1137 198.5L1135 200.5L1133.5 203L1132 203.5L1131 204.5L1130 203.5H1128.5L1127.5 205L1126.5 206.5L1125.5 208L1126 209L1126.5 210L1127.5 211.5L1126.5 212.5L1124.5 217V219.5L1125.5 220.5L1125 222L1126 224L1125 226V229L1124.5 230L1122.5 231H1113.5H1111.5L1109.5 233.5L1108 233L1106.5 234.5L1105 234L1104 235L1103 236L1098 235L1097 236H1096.5H1095.5L1095 234.5L1093.5 234L1092.5 235.5L1091 235L1090.5 236H1089.5H1088L1087.5 237L1088 238L1089.5 239L1090 240.5L1091 241L1093 241.5L1094.5 241H1096L1096.5 242.5V244.5L1095.5 245L1094.5 247L1095 248.5L1097 249V250.5L1097.5 251.5L1097 252.5V253.5L1095.5 254H1094.5L1094 253H1093L1092.5 254H1091.5L1089.5 253.5L1088 254L1087.5 255L1087 256L1088 257V259.5L1087 260.5L1086 261H1084.5V262L1085 264L1085.5 265L1084.5 266.5L1084 267.5L1086 270.5V271.5H1088.5L1090 270.5H1091.5L1093 269.5L1094 270H1095L1095.5 270.5L1095 271.5L1096 272H1097L1099 273V274L1098 275.5L1096.5 276.5H1095.5L1094.5 277.5L1095.5 278L1096.5 280L1095.5 282.5V284V285L1094.5 284.5L1094 283.5L1093.5 283L1092 282.5H1090L1086.5 281L1085 280L1084 281L1083 282L1082 282.5L1080 281.5L1076.5 281L1075 279L1073.5 279.5L1072.5 280.5H1070.5L1069 279.5L1067 280L1065.5 281L1064 280H1062.5L1061 280.5L1061.5 282L1060.5 283L1058.5 284L1057.5 285L1059 285.5L1061.5 288.5H1062.5L1063 290.5V294H1060L1058.5 295L1053.5 296L1051.5 295L1050 296L1045.5 295.5H1044L1043.5 296L1042.5 298L1041 299.5L1044 303.5L1047.5 302.5H1049H1051.5H1053L1055 304V306L1056 306.5L1057 306L1058 305L1059.5 306.5H1060.5L1061.5 305.5L1063 306.5L1065 307L1066 309L1065 311.5L1063.5 312.5L1063 315.5L1063.5 316L1064 317.5L1062.5 319.5L1059.5 317H1058L1057.5 318L1055 319.5L1054 318.5L1053 319.5V320.5L1055 323.5L1057 324L1059 327L1060.5 328L1061.5 327.5V329L1063 330.5L1065 332L1063 333.5L1061.5 334.5L1064 336L1063.5 339H1066.5V340L1074.5 343V354L1076.5 356.5V357L1072 361.5L1068 365.5L1066 365L1063 362L1061 361.5L1057.5 359.5V358L1053.5 356.5L1053 357L1051.5 356.5L1048.5 357.5L1047.5 357V356.5L1047 356L1045.5 355.5L1043.5 354L1041.5 353.5L1040 354L1037 353.5L1032.5 351.5H1029.5L1029 353L1029.5 354.5L1037.5 361.5L1038 362L1037 364L1041.5 364.5L1042 363.5H1043L1046 366L1047 367.5V369.5V370V371.5L1047.5 372L1050 372.5L1051 373L1051.5 373.5L1052 374L1051 374.5V376L1049 376.5L1050 379L1050.5 379.5V382L1051 382.5L1050 384.5L1050.5 385L1051 385.5L1052 386V387.5L1053 388V389.5L1053.5 391L1054 391.5V392.5L1054.5 393L1055 393.5L1055.5 395.5H1056.5L1057.5 396.5L1060.5 397L1059 397.5V399L1059.5 400.5L1058.5 401L1057.5 402V403.5H1056.5L1056 404.5L1056.5 405L1056 407L1057.5 409L1058.5 409.5L1059.5 412.5L1061.5 413L1064.5 415.5H1065.5L1068 419.5L1067 423.5H1068.5L1069 426L1070.5 427.5L1071 429L1072.5 429.5L1073 429L1073.5 428V427L1074 426.5L1074.5 427V427.5L1076.5 429L1079 428L1080 430L1081.5 432L1082 433.5L1083 434L1083.5 435.5L1085 439L1086 440L1088.5 440.5L1091 441.5V456L1090.5 457L1086.5 459.5V460L1091 466L1092 466.5L1104.5 467.5L1106 471.5V472L1103.5 481.5L1088.5 486.5L1089 488L1094 498.5L1091 500.272V513H1103.5V528H1091V622H1053.5V637H1091V912H1016.5V670L1020 668.5V668L1025 666.5L1028.5 664L1032.5 658L1033 656.5V656L1033.5 655.5V654L1033 653.5V652.5L1032.5 652V651.5L1032 649L1032.5 646.5L1031.5 646L1032.5 645L1031.5 638L1032.5 635L1031.5 634L1025.5 637.5H1023.5L1021.5 638.5L1019.5 638L1016.5 640L1014.5 639.5L1012 640L1008.5 638.5L1007.5 639.5H1004L1002.5 636V634.5V634L1002 631.5L1000 629H999V630L994.5 628.5L989.5 626.5L986.5 624.5H985L980 616L978.5 615L977.5 613L978 610L976.5 607L977 604H978L980.5 602L982.5 598.5L984 598V596.5H982.5V594L984 593V592L983.5 590L982 587.5L979.5 589L979 588L977.5 588.5L978 583L979.5 577.5L985.5 572.5L986 571L983.5 570L984 564.5L985 563.5H987L988.5 563L989 564L990.5 564.5L991.5 563.5L994.5 562.5L997 563.5L1001.5 559H1009L1008.5 558V555.5L1007.5 555H1006.5L1005.5 554L1003 549L1000.5 547L998 544L994.5 542.5L995.5 540H998L999.5 539.5L1000 535L1001 531V529.5L1002 528L1003 528.5L1004 528L1004.5 527L1005 523L1007.5 519L1010 518.5L1012 511L1011.5 506L1014 500V497L1014.5 496.5H1016.5L1019 494.5L1020.5 494L1022 492L1017 488L1016 484.5L1015.5 476L1014 473.5V471L1009 467.5L1007.5 465.5L1007 462V461H1008L1005 458L999 447V445.5L1000 444L1002.5 438.5L1004 432.5V431.5L1004.5 429.5L1006.5 422.5L1007 417.5L1007.5 412V411L1009.5 409.5V408.5L1010 408H1011V407L1012.5 405.5L1011.5 404V403.5H1010L1009 403V399.5L1008 398L1009 396V394L1010 392V391L1009 390.5L1006 392.5L1004 392L1003 391L1000 393L999.5 394.5L998 395H992.5L987.5 392L985.5 391H983.5L982.5 391.5L982 394L981.5 394.5L980.5 394L978.5 395L971.5 392.5H971L967.5 394L963 393.5L962 388L962.5 385L961 384V380.5L962 379.5L962.5 376H958.5L957.5 372.5V371L959.5 370L960 368.5L961.5 366.5V365.5L963 364L962.5 363H962V362.5L963 361.5L966.5 360.5L967.5 361.5L970 361L969.5 358.5L970.5 357L970.712 355.5H1005L1009.5 355L1013 353V352.5L1012.5 344.5L1013.5 333.5L1018 331.5L1020.5 330L1021 327L1021.5 326.5L1024.5 325L1027.5 325.5L1029 322.5L1028.5 321L1027.5 320.5L1028 319.5L1029.5 319L1028 318L1030 316V314H1029H1028L1025 312L1024 312.5L1022.5 311.5L1021 311H1020.5L1019.5 312L1016.5 308.5L1012.5 309.5H1012L1010.5 309L1009.5 308.5L1008 309H1007.5L1006.5 308L1006 305.5V305V304.5L1004.5 303.5H1004H1003.5L1000.5 303V301.5L1000 300.5L1001.5 300L1000 298.5V297.5L998.5 296L994.5 296.5L992.5 296L992 296.5L990.5 298H990L988.5 297.5H985L984 298L982.5 301V302.5V303H982L980.5 301.5L976.5 302.5L975.5 301H974L973.5 302L971 300.5H970L969 301L968 301.5V301L958 299L955.5 298.5L952 299L950 301L948 301.5L947.5 300.5L948 298L946 296.5L949.5 293.5V293V290.5L948 287L947.5 285.5H949.5H952L954 285V284H955.5L957 283L957.5 284H958.5L959 283.5L958 283V282L959 279L963.5 276.5L962 276L963 273.5L964 273L964.5 272.5H968V271.5L969 271L969.5 270.5L970.5 270V268L969.5 265.5L968 265L969 262L966.5 260.5L967.5 258.5L968.5 258L967 255.5V251.5L969 248.5L970.5 247L969.5 246.5L966.5 245.5L965 246L963 244.5L962 243L963.5 242L965.5 241.5L967 241L969 238.5L975 233.5L976.5 232.5L986 223.5L987.5 220.5L986 218.5L979.5 214L981 213L982.5 211.5V210L980.5 209L979.5 207.5L980.5 206.5L979.5 205.5H979L978 205L977.5 204L979 203L977.5 202L978 199.5L978.5 199L980 198.5V198L977.5 192L975 188.5V188L979.5 182L976.5 178.5L973.5 177.5L972.5 175L973 172V171.5H972L975 170L976.5 168L979.5 167L980.5 165L982.5 166H984V163.5L988 160L997 163.5L999 166H1001L1003 166.5L1006.5 167L1016.61 170.767V74.3734H1007.08V50.1719H1016.5Z"
          fill="#D9D9D9"
          fillOpacity="0.01"
        />
      </g>
      <Madagaskar ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Mayotta ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Tanzania ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Djibuti ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Ethiopia ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Keniya ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Uganda ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Soomalia ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Belorus ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Russia ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Jordan ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Türkiye ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Qatar ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Syria ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Iraq ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Yemen ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <SaudiArabia ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Bahrain ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Eritrea ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Kuwait ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Comoros ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
    </g>
  );
}
