import { useMemo } from 'react';
import { getNextNYLocalForUtcOffset } from '@/utils/ny-time';
import clsx from 'clsx';

import SriLanka from './SriLanka';
import India from './India';

export default function Zone({ onZoneClick }) {
  const ZONE_ID = 'UTC+5:30';
  const ny = useMemo(() => getNextNYLocalForUtcOffset(ZONE_ID), []);

  const handleZoneClick = () => {
    onZoneClick?.(ZONE_ID); // клік по фону зони
  };

  return (
    <g className={clsx('zone')}>
      <g
        className={'zoneM'}
        data-tt="1"
        data-id={ZONE_ID}
        data-flags="LK, IN"
        data-label={ZONE_ID}
        data-time={ny.display}
        onClick={handleZoneClick}
      >
        <path
          d="M1169 463L1168.5 462.5L1169.5 461H1171.5V459L1177.5 460L1180.5 458.5L1181.5 459.5L1183 458.5H1182.5L1183 457L1181 452L1179 451.5L1178.5 449.5V447.5L1175 446L1175.5 444.5L1178.5 440.5L1180 439.5L1182 441L1186.5 440L1190 435L1192 434L1194.5 429L1197 428L1196.5 427L1200.5 423L1200 419.5L1200.5 418.5L1204 417V416L1201 415.5V413.5H1199L1197.5 411.5L1198.5 409.5L1197.5 408.5L1199 407L1197 406.5L1197.5 405.5L1196.5 405L1197 403.5L1200 403L1206 404L1210.5 403L1212 401L1213 400.5L1217.5 398.5V400L1218.5 403L1222 405L1221 406.5L1221.5 407L1222.5 408.5L1222 409V410L1223 411L1224 411.5L1224.5 413.5V414L1223.5 415L1222 416L1221 414.5L1219 415L1219.5 416.5L1221 418.5L1220.5 420.5L1221.5 421.5H1223L1224.5 423L1227 424L1228 425.5L1232 427.5V428L1229 430V431L1228.5 432V432.5L1227.5 434V435L1229.5 436.5V436L1232.5 437.5L1234 439L1236.5 440.5L1237 440L1240 441L1240.5 442L1243.5 443L1244.5 442.5L1246 443L1246.5 442.5H1248L1250 443V444.5L1253.5 446.5L1255 446L1256 447H1257L1259 447.5L1260.5 448L1262 447.5L1262.5 448L1267 448.5L1267.5 446.5L1267 444.5V444L1267.5 440.5L1270 439L1271 439.5L1270.5 442L1271 443V443.5L1270.5 444L1272.5 446H1274L1275.5 446.5H1276L1277.5 446L1278 445.5H1278.5L1280 446H1285L1286 445.5L1286.5 446L1287 445L1286.5 444.5L1287 444V443L1285 442L1284.5 441.5L1285 441L1288.5 440.5L1290 440V439L1292 437.5L1292.5 436.5L1293 436L1296.5 435L1299.5 432.5L1300 433L1303.5 434L1307 432L1308 433L1307 434L1307.5 434.5L1309 434L1309.5 435.5L1308 437.5H1311.5L1313 438.5V439.5L1311 441V442L1312 444.5H1311.5L1309.5 443L1305.5 445L1304 446L1303 446.5L1302 447.5V450L1301.5 451V451.5L1299.5 453.5L1300 455L1299 457.5L1297 461.5L1296 461L1293 460.5L1293.5 462.5L1293 465.5L1292 466V470.5L1291.5 471L1290 470.5L1289.5 471L1288 462.5H1286.5L1285.5 466L1285 466.5L1283.5 465V465.5L1282.5 462.5L1283.5 460.5L1285 459.5L1286 460V459L1287.5 458V456H1289L1288.5 455.5L1286.5 454.5L1279 455L1276 454V451L1275 449.5V450H1273.5L1271.5 448V449L1270 448.5L1269 447.5H1268.5L1269 448.5L1267.5 450V451L1269.5 453H1270.5L1271.5 454V454.5L1269 455V455.5L1267.5 456.5V458L1270.5 459.5L1270 463L1271.5 465L1271 466.5L1273 473L1268.5 473.5L1265.5 473L1262.5 474L1261.5 475L1262 478L1259 481.5L1253 484L1247.5 490L1244.5 491.5L1243.5 493.5L1240.5 495.5H1240L1239 496.5V499L1235.5 500.5L1233.5 500L1232 503L1231.5 502.5H1230L1228.5 503.5L1227.5 506.5V511L1228.5 514.5V518.5L1227 521.5L1226 523V525L1225.5 526L1226.5 527.5L1226 530.5L1230.5 535L1236 543.5L1236.5 547L1235.5 549.5L1230 552.5L1228 551.5L1226.5 549L1225 537.5L1223.5 536H1221L1219 536.5L1218 538L1217.5 540L1215 541.5L1212.5 540.5L1210 538L1211 537L1209.5 536L1209 532.5L1207 528.5L1206 525.5L1202.5 520L1201.5 518V516.5L1199.5 510L1197.5 508L1198.5 507.5L1196 505H1197.5L1195 502L1192.5 491.5V490.5L1192 489.5V487.5L1192.5 486L1191 485L1191.5 484L1191 483.5V481.5L1192 480V476.5L1190.5 476V474.5H1188.5L1188 475.5L1182 477.5L1179.5 477L1174 471L1172.5 470V469H1174V467L1170.5 465L1170 463H1169Z"
          fill="#D9D9D9"
          fillOpacity="0.01"
        />
        <path
          d="M1184.5 542.5V518.5H1197.5V542.5H1184.5Z"
          fill="#D9D9D9"
          fillOpacity="0.01"
        />
        <path
          d="M1286 550.5V513.5H1299V550.5H1286Z"
          fill="#D9D9D9"
          fillOpacity="0.01"
        />
      </g>
      <SriLanka ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <India ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
    </g>
  );
}
