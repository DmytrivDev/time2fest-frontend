import PropTypes from 'prop-types';
import { useTranslation } from 'react-i18next';

export default function Country({ ny, utc, onClick }) {
  const { t } = useTranslation();

  const handlePointerUp = e => {
    e.stopPropagation(); // не віддаємо подію зоні
    const zoneId = e.currentTarget.getAttribute('data-id'); // "UTC+2"
    const code = (
      e.currentTarget.getAttribute('data-country') || ''
    ).toUpperCase(); // "CY"
    onClick?.(zoneId, code, e);
  };

  return (
    <g
      id="Kiribati"
      className="countryGr"
      data-tt="2"
      data-id={utc}
      data-country="KI"
      data-label={`${t('countries.kiribati')} ${utc}`}
      onClick={handlePointerUp}
      data-time={ny.display}
    >
      <g>
        <path
          d="M54.7648 572.654C54.7648 573.982 53.6918 575.055 52.3637 575.055C51.0408 575.055 49.9626 573.982 49.9626 572.654C49.9626 571.331 51.0407 570.253 52.3637 570.253C53.6918 570.253 54.7648 571.331 54.7648 572.654Z"
          fill="#FA7850"
        />
        <path
          d="M66.3954 601.947C66.3954 603.27 65.3225 604.348 63.9995 604.348C62.6714 604.348 61.5985 603.27 61.5985 601.947C61.5985 600.624 62.6714 599.546 63.9995 599.546C65.3224 599.546 66.3954 600.624 66.3954 601.947Z"
          fill="#FA7850"
        />
        <path
          d="M40.0873 559.027C40.0873 560.35 39.0092 561.428 37.6862 561.428C36.3581 561.428 35.2852 560.35 35.2852 559.027C35.2852 557.699 36.3581 556.626 37.6862 556.626C39.0092 556.626 40.0873 557.699 40.0873 559.027Z"
          fill="#FA7850"
        />
        <path
          d="M44.9473 562.747C44.9473 564.075 43.8744 565.148 42.5462 565.148C41.2233 565.148 40.1504 564.075 40.1504 562.747C40.1504 561.424 41.2233 560.351 42.5462 560.351C43.8744 560.351 44.9473 561.424 44.9473 562.747Z"
          fill="#FA7850"
        />
        <path
          d="M61.9421 609.721C61.9421 611.049 60.8691 612.122 59.541 612.122C58.2181 612.122 57.1399 611.049 57.1399 609.721C57.1399 608.398 58.218 607.32 59.541 607.32C60.8691 607.32 61.9421 608.398 61.9421 609.721Z"
          fill="#FA7850"
        />
        <path
          d="M52.0207 572.587L51.6405 571.723L52.4999 572.051L52.3749 572.749L53.2187 573.389L52.0207 572.587Z"
          fill="#FA7850"
        />
        <path
          d="M89.7235 631.387C89.7235 632.715 88.6454 633.788 87.3224 633.788C85.9943 633.788 84.9213 632.715 84.9213 631.387C84.9213 630.064 85.9943 628.986 87.3224 628.986C88.6453 628.986 89.7235 630.064 89.7235 631.387Z"
          fill="#FA7850"
        />
        <path
          d="M82.1555 638.454C82.1555 639.777 81.0773 640.855 79.7544 640.855C78.4314 640.855 77.3533 639.777 77.3533 638.454C77.3533 637.131 78.4314 636.053 79.7544 636.053C81.0773 636.053 82.1555 637.131 82.1555 638.454Z"
          fill="#FA7850"
        />
        <path
          d="M79.2648 632.054C79.2648 633.382 78.1919 634.455 76.8689 634.455C75.5408 634.455 74.4678 633.382 74.4678 632.054C74.4678 630.731 75.5408 629.653 76.8689 629.653C78.1918 629.653 79.2648 630.731 79.2648 632.054Z"
          fill="#FA7850"
        />
      </g>
      <path
        d="M47 590.5H4L14.8843 612.5H58.5L66.5 640.5H91V631.5L61.5 557H36V564.5L47 590.5Z"
        fill="#D9D9D9"
        fillOpacity="0.01"
      />
    </g>
  );
}

Country.propTypes = {
  ny: PropTypes.shape({
    display: PropTypes.string.isRequired,
  }).isRequired,
};
