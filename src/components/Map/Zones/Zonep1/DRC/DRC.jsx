import PropTypes from 'prop-types';
import { useTranslation } from 'react-i18next';

export default function Country({ ny, utc, onClick }) {
  const { t } = useTranslation();

  const handlePointerUp = e => {
    e.stopPropagation();
    const zoneId = e.currentTarget.getAttribute('data-id');
    const code = (
      e.currentTarget.getAttribute('data-country') || ''
    ).toUpperCase();
    onClick?.(zoneId, code);
  };

  return (
    <g
      id="DRC"
      className="countryGr"
      data-tt="2"
      data-id={utc}
      data-country="CD"
      data-label={`${t('countries.DRC')} ${utc}`}
      onClick={handlePointerUp}
      data-time={ny.display}
    >
      <path
        d="M929.969 616.521L928.605 612.537L930.334 611.084L930.881 606.662L930.308 603.245L931.813 603.667L933.423 602.459L933.345 598.615L935.121 594.23L937.209 594.162L937.485 593.485L939.183 594.402L940.761 593.167L941.344 594.12L940.896 591.573L942.548 591.584L943.152 590.829L945.464 591.501L946.079 592.188L948.282 591.886L949.136 590.631L951.949 590.573L951.433 588.797L949.74 588.396L946.845 586.006L948.016 585.136L947.35 584.12L944.954 583.917L946.886 582.86L944.85 579.844L943.136 575.178L941.464 574.464L943.115 571.485L943.792 571.938L944.923 571.105L945.438 571.516L946.683 570.756L948.094 571.084L946.766 569.407L945.178 569.23L944.756 566.433L944.032 567.027L943.766 565.589L943.131 565.24L945.834 563.693L946.813 563.98L947.464 563.074L944.287 562.777L942.339 561.266L937.095 560.782L932.381 559.485L930.136 557.235L927.985 556.381L925.714 557.459L923.928 560.167L922.897 560.48L923.318 561.318L923.277 566.36L920.694 570.938L919.615 576.949L920.001 580.12L918.053 585.673L914.662 588.037L912.954 591.11L911.277 592.772L911.444 598.423L909.793 601.418L906.126 603.803L903.735 606.204L902.511 606.1L902.443 603.069L899.969 604.131L899.084 603.965L898.355 605.563L897.506 606.048L895.938 604.84L892.824 606.923L893.074 610.256L891.6 610.475L892.636 611.772L895.022 610.746L913.204 611.147L915.756 618.48L917.939 621.975L920.814 622.105L922.85 621.251L927.038 621.574L927.98 616.871L930.017 616.569L929.969 616.521Z"
        fill="#5DBD39"
      />
    </g>
  );
}

Country.propTypes = {
  ny: PropTypes.shape({
    display: PropTypes.string.isRequired,
  }).isRequired,
};
