import { useMemo } from 'react';
import { getNextNYLocalForUtcOffset } from '@/utils/ny-time';
import clsx from 'clsx';

import Mexico from './Mexico';
import Canada from './Canada';
import USA from './USA';

export default function Zone({ onZoneClick }) {
  const ZONE_ID = 'UTC-7';
  const ny = useMemo(() => getNextNYLocalForUtcOffset(ZONE_ID), []);

  const handleZoneClick = () => {
    onZoneClick?.(ZONE_ID); // клік по фону зони
  };

  return (
    <g className={clsx('zone', 'greenCtrs')}>
      <g
        className="zoneM"
        data-tt="1"
        data-id={ZONE_ID}
        data-flags="CA, US, MX"
        data-label={ZONE_ID}
        data-time={ny.display}
        onClick={handleZoneClick}
      >
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M350 58.5004H327V130.233L329.625 131.983L333.944 131.503L334.04 131.493L334.133 131.518L354.133 137.018L354.298 137.064L358.75 143H368.72L368.868 143.162L391.5 167.806V187.202H327.302V242.5H287.5V286.691L287.901 286.892L288.5 286.293L289.411 287.204L289.809 288H290.618L291.796 288.589L292.411 289.204L293.447 291.277L293.559 291.5L293.447 291.724L292.637 293.344L291.5 292.207L291.389 292.319L290.268 294H287.5V317H317.107V323.328L317.5 323.828V324H317.86L318.438 325.731L318.707 326H320.793L321.293 325.5H322.618L323.618 326H324.382L325.462 325.46L328.365 326.428L329.137 325.657L329.911 327.204L330.707 328H331.707L332.354 328.647L332.438 328.73L332.475 328.842L332.975 330.342L333 330.419V331.293L334 332.293V333.707L333.207 334.5H332.167L330.5 335.75V336.052L335 336.553V337.293L335.707 338L335 338.707V339.293L335.5 339.793V342.619L334.947 343.724L334.809 344H334V344.382L335.108 346.599L334.256 347.452L334.121 347.486L332.121 347.986L332.062 348H331.891L331.485 349.621L331.451 349.756L331 350.207V354H332.207L332.978 354.771L332.997 354.945L333.497 359.445L333.5 359.473V360.581L333.475 360.659L332.86 362.5H331.118L330.531 362.793L330.997 367.451L331.003 367.503L330.454 372.441L327.119 372.916L327.405 374.061L330.5 374.577V376.062L330.485 376.121L329.5 380.063V380.471L330.048 385.401L327.451 385.919L326.941 390H322.491L321.991 418H312.968L312.507 424.908L314.885 430.139L321.692 433.805L318.022 440.096L319.09 446.5H316.676L314.312 448.391L314.085 448.573L311.404 447.5H310.349L308.964 446.577L308.224 446.948L307.964 447.078L306.639 446.194L306 447.152V448.119L305.464 449.191L304.901 450.878L304.686 450.964L302.437 451.863L302.016 453.967L302.42 455.179L303.906 456.17L303.964 456.315L304.788 458.376L306.038 457.96L307.417 458.65L307.479 458.857L308.92 463.664L312.248 465.566L312.5 465.71V467.191L312.776 467.053L313.099 466.892L314.207 468H315.5V470.293L317.072 471.866L316.611 473.246L317.671 473.777L316.947 475.224L316.809 475.5H316.41L315.852 478.294L312.94 476.547L311.896 476.896L311.401 478.378L311.186 478.464L309.189 479.262L310.911 482.704L312.777 484.571L316.676 486.033L316.742 486.057L316.8 486.1L318.8 487.6L318.895 487.671L319.852 489.585L325.858 491.434L326.146 491.147L326.293 491H327.672L327.807 491.106L332.259 494.569L338.661 497.524L343.108 498.512L343.199 498.533L343.277 498.584L344.751 499.567L347.618 501H349.5L349 912H274.5V461.5H252V436H262.644L262.765 436.077L266.643 438.5H276.071L263.082 418.776L263.046 418.721L263.025 418.659L261.942 415.41L262.1 415.201L263.6 413.201L263.621 413.172L264.293 412.5L263.5 411.707V409.849L264.5 408.349V406.333L265.74 404.679L265.091 404.355L264.025 401.159L264.014 401.121L264.007 401.082L262.946 394.718L264.276 394.053L264.441 393.97L266.231 394.417L266.5 393.882V363.541L266.076 361H252V358H247.382L246.276 357.448L246 357.309V347.121L247.255 345.5H249.581L249.658 345.526L251 345.973V345.349L252.066 343.749L254.392 339.099L252.892 337.599L253.589 336.204L254.437 335.357L256.5 336.733V338.793L256.707 339H258.581L258.658 339.026L259.926 339.448L261.223 338.584L261.464 338.423L263.401 339.392L264 338.793V337.192L264.888 336.746L264.525 335.659L264.486 335.54L264.507 335.418L264.937 332.839L263.842 332.475L263.711 332.431L263.62 332.326L260.686 328.902L258.776 327.948L258.57 327.845L258.515 327.621L258.027 325.674L257 323.619V318H252.691L252.553 317.724L251.795 316.208L253.423 315.664L253.039 313.746L252.5 313.207V312.192L252.776 312.053L253.704 311.589L254.5 310.793V310.119L253.46 308.038L253.888 306.753L252.276 305.948L252.127 305.873L252.053 305.724L251 303.619V302H250.582L249.158 302.475L248.796 302.595L247.566 300.751L246.637 298.893L244.314 297.964L244.219 297.926L243.293 297L244.146 296.147L244.229 296.063L244.342 296.026L245.646 295.591L245.976 294.929L245.539 292.746L244.673 291.88L242.748 290.437L239.303 288.96L239.215 288.922L238.146 287.854L238.062 287.771L238.025 287.659L237.536 286.191L237.089 285.296L234.204 282.411L233.326 281.972L231.379 281.486L231.325 281.472L230.276 280.948L230 280.809V279.563L229.527 277.674L229.127 276.872L227.31 275.964L225.5 275.361V274.119L225.127 273.372L224.204 272.911L223.293 272H222.768L221.524 273.866L218.25 269.5H215.707L215.207 270H213.691L213.553 269.724L213.053 268.724L213.037 268.692L213.025 268.659L212.14 266H210.965L210.93 265.995L207.43 265.495L207.208 265.463L207.084 265.278L206.084 263.778L205.948 263.575L206.025 263.342L206.525 261.842L206.562 261.73L206.646 261.647L207.562 260.731L208.14 259H209.382L210 258.691V256.793L210.847 255.947L213.062 256.5H214.691L215.053 255.777L215.191 255.5H216.618L217.618 256H218V255.309L217.326 254.972L215.379 254.486L215.36 254.481L215.342 254.475L213.646 253.91L213.127 252.872L212.382 252.5H210.793L210 251.707V249.207L209.682 248.889L208 247.768V246.707L207.611 246.319L206.584 244.778L206.555 244.735L206.536 244.686L205.662 242.5H143.191L143.053 242.224L142.5 241.119V240H140.618L138.724 240.948L138.564 241.027L138.392 240.989L133.5 239.902V163.929L141.257 164.962L142.329 163.356L145.344 164.864L144.207 166L144.771 166.565L157.298 170.901L158 169.849V168.882L158.589 167.704L159.5 166.793L160 167.293L160.293 167H161.5V166.882L162.053 165.777L162.191 165.5H165.59L166.229 162.306L168.184 164.911L170.487 164.144L169.254 166.609L173.354 164H175.191L175.053 163.724L174.566 162.751L177.415 163.463L181.773 160.74L182.131 161.811L183.071 160.244L183.217 160H187.793L189.47 158.324L189.82 158.617L192.746 161.055L194.032 161.484L196 161.09V160.14L197.918 159.5L197.295 159.292L197.553 158.777L197.691 158.5H196.191L197.806 155.27L201.318 157.612L202.879 159.172L202.9 159.201L204.4 161.201L204.461 161.282L204.951 163.244L206.735 165.029L209.733 165.456L211.5 162.367V160.59L211.902 160.51L213.76 160.138L213.191 159H215.382L216.186 158.598L221.848 151.993L217.688 146.907L211.637 144.157L211.793 144H208.39L209.058 140.662L210.127 140.127L210.589 139.204L212 137.793V134.5H214.191L214.392 134.099L213.392 133.099L215.053 129.777L215.127 129.627L215.276 129.553L217 128.691V127.233L218.099 126.5H216.661L216.536 126.186L214.536 121.186L214.298 120.592L229.045 118.558L230.446 105.952L225.101 105.466L224.636 103.607L221.866 104.299L223.584 101.723L223.64 101.64L223.723 101.584L225.223 100.584L225.266 100.555L225.314 100.536L227.814 99.5365L227.903 99.5004H229.717L231.178 97.0658L231.379 97.015L235 96.1097V95.2328L238.249 93.0668L240.204 92.0892L241.76 90.5336L247.918 89.5072L248.014 89.4916L248.108 89.5121L251.745 90.3197L251.389 89.2474L251.776 89.0531L252.704 88.5892L253.293 88.0004H255.344L261.716 83.5892L261.774 83.5482L266.296 82.0404L270.622 79.6371L271.053 78.7767L271.151 78.5804L271.362 78.5199L274.5 77.6234V0L349 0.000358567L350 58.5004ZM282 730H311.5V708.5H282V730Z"
          fill="#D9D9D9"
          fillOpacity="0.01"
        />
      </g>
      <Mexico ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Canada ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <USA ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
    </g>
  );
}
