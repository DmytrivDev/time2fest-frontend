import { useMemo } from 'react';
import { getNextNYLocalForUtcOffset } from '@/utils/ny-time';
import clsx from 'clsx';

import Mexico from './Mexico';
import USA from './USA';
import Canada from './Canada';

export default function Zone({ onZoneClick }) {
  const ZONE_ID = 'UTC-8';
  const ny = useMemo(() => getNextNYLocalForUtcOffset(ZONE_ID), []);

  const handleZoneClick = () => {
    onZoneClick?.(ZONE_ID); // клік по фону зони
  };

  return (
    <g className={clsx('zone', 'yellowCtrs')}>
      <g
        className="zoneM"
        data-tt="1"
        data-id={ZONE_ID}
        data-flags="CA, US, MX"
        data-label={ZONE_ID}
        data-time={ny.display}
        onClick={handleZoneClick}
      >
        <path
          d="M274.5 77.0011V0.00195312H200.5V157.001V158.501L202 160.001L203.5 162.001L204 164.001L206.5 166.001L209.5 167.001L211 163.001L211.5 161.501L214 161.001V160.001H216L222 152.501L217 146.501L212 144.501L212.5 144.001H208.5L209 142.001L210 141.001L210.5 139.501L212 138.501V136.001L214 135.501L214.5 135.001L213 133.501L214 132.501L215.5 130.501L217 129.501V128.001L218 127.001V126.501L216.5 126.001L214.5 122.001L214 121.501L229 119.501L231 106.001L224.5 105.501L225 104.001L224.5 103.501L222.5 104.001L224 102.501L224.5 101.501L227 100.501H229.5L231 98.0011L235 97.0011V96.0011L238 94.0011L240 93.0011L241.5 91.5011L247.5 90.5011L251.5 91.5011V90.0011L253 89.5011V89.0011H255L261.5 84.5011L265.5 83.0011L270 81.0011L270.5 80.0011L274.5 79.0011V77.0011Z"
          fill="#D9D9D9"
          fillOpacity="0.01"
        />
        <path
          d="M205.895 242.501H143L150 248.001L150.5 250.501L154 248.501H155L155.5 246.501L156.5 246.001V245.501L160.5 244.001L163 247.501L165.5 249.001L166.5 250.501L171 254.001L176.5 262.501V263.501L178.5 267.001L184 268.501L187 270.501L187.5 272.001L187 273.001V274.001L187.5 276.001L184.5 281.001H183L177.5 283.501L173.5 282.501L167.5 284.001L179 299.501L200.5 314.791V693.001H174V714.001H200.362V912.002H274.5V461.501H252V437.001H262L266 439.501H276L263 419.001L262 416.001L263 414.001H264.5V413.001L263.5 412.001V410.501L264.5 409.501V407.001L266 405.501L265 404.501L264 401.501L263.5 396.001L264 395.001L266 395.501L266.5 395.001L267 364.001L265.5 361.001H252V358.001H247.5L246 357.501V347.501L247.5 346.501H249.5L251 347.001V345.501L254.5 340.001V339.001L253 337.501L254 336.501L255.5 337.501V339.501L256 340.501L257.5 340.001L259.5 340.501L261 339.501L263.5 340.001L264 339.501L264.5 338.001L265 337.501L264.5 335.501L265 332.501H263L260 329.001L258.5 328.001V326.001L257 324.001V318.001H252L252.5 316.501L253.5 316.001L253 314.501L252.5 314.001V313.001L254 312.001L254.5 311.001V310.001L254 309.001L253.5 308.001L254 307.001H253.5L252.5 306.501L252 305.501L251 304.501V303.001L250.5 302.001H250L248.5 302.501L248 302.001L247.5 300.001L246 299.001L244 298.001L243.5 297.501L244.5 297.001L245.5 296.001V294.501V293.501L245 292.501L243.5 291.001L241 290.001L239 289.001L238 288.001L237.5 286.001L233 282.001H232L230.5 281.501L230 281.001V279.501L229.5 277.501L225.5 275.501V274.501L224.5 273.501L223 272.001H222.5L222 272.501L221.5 273.501H220.5L218 270.001L217 269.501H215.5H215L214.5 270.001H213.5L213 269.501L212.5 267.001L211.5 266.001H210.5H208L207 265.501L206.5 264.001V262.501L207.5 261.501V260.001L210 259.501L209.5 258.001L210 257.001L213 257.501H214L215 257.001L216 256.501L217 257.001H218V256.001L217.5 255.001H216.5L215 254.501H214L213 253.001L212.5 252.501H211.5L210 252.001V249.001L208.5 248.501L208 247.001L206.5 245.501L205.895 242.501Z"
          fill="#D9D9D9"
          fillOpacity="0.01"
        />
      </g>
      <Mexico ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <USA ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <Canada ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
    </g>
  );
}
