import PropTypes from 'prop-types';
import { useTranslation } from 'react-i18next';

export default function Country({ ny, utc, onClick }) {
  const { t } = useTranslation();

  const handlePointerUp = (e) => {
    e.stopPropagation();              // не віддаємо подію зоні
    const zoneId = e.currentTarget.getAttribute('data-id');          // "UTC+2"
    const code   = (e.currentTarget.getAttribute('data-country') || '').toUpperCase(); // "CY"
    onClick?.(zoneId, code);
  };

  return (
    <path
      className="country"
      data-tt="2"
      data-id="UTC+2"
      data-country="SD"
      data-label={`${t('countries.sudan')} ${utc}`}
      onClick={handlePointerUp}
      data-time={ny.display}
      id="Sudan"
      d="M986.968 470.102L986.171 470.826L954.89 471.242V481.586L949.942 481.914V503.56L945.571 503.498L944.692 504.316L943.368 508.695L941.942 509.348L942.743 511.545L940.493 513.301L941.474 515.426L939.212 518.254L939.896 519.004L941.478 518.695L942.436 522.029L943.192 521.91L942.821 524.113L944.852 525.998L944.395 527.617L948.302 532.898L948.272 533.685L948.292 533.688L949.598 533.441C949.598 533.441 951.809 533.223 951.973 533.223C952.138 533.223 954.634 532.695 954.634 532.695L954.999 530.645L956.448 530.057L959.374 530.082L959.421 531.201C959.421 531.201 960.112 531.658 960.306 531.812C960.5 531.967 960.644 532.705 960.644 532.705L961.776 534.695H963.753L964.913 534.228H969.202L969.905 535.67H973.173L973.296 534.766L974.86 533.393H977.23V531.465L979.653 530.844L983.204 533.455L985.999 533.295L988.286 530.904L989.444 529.035L991.544 526.99L991.11 526.51C991.11 526.51 991.17 523.6 991.153 523.463C991.136 523.326 989.694 522.133 989.694 522.133L993.151 522.348V520.832H995.708L995.321 522.801L994.89 523.857L995.292 526.443L995.489 528.184L996.675 528.762L999.429 531.352L999.212 532.724L998.685 532.996L998.71 534.58L999.999 534.65L1001.16 531.014L1000.87 529.441L1002.36 527.816L1003.26 528.508L1004.27 527.738L1005.12 522.867L1007.85 518.867L1010.05 518.664L1011.99 510.961L1011.61 506.269L1014.07 499.842L1014.24 496.623L1016.4 496.742L1019.31 494.248L1020.56 494.176L1022.21 491.867L1016.45 487.472L1015.52 483.597L1015.06 475.383L1015.82 476.207L1013.94 473.467L1013.73 471.242H999.936L999.571 472.304L997.317 472.685L995.374 471.242H987.045L986.968 470.102Z"
      fill="#14D2DC"
    />
  );
}

Country.propTypes = {
  ny: PropTypes.shape({
    display: PropTypes.string.isRequired,
  }).isRequired,
};
