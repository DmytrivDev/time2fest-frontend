import PropTypes from 'prop-types';
import { useTranslation } from 'react-i18next';

export default function Country({ ny, utc, onClick }) {
  const { t } = useTranslation();

  const handlePointerUp = (e) => {
    e.stopPropagation();              // не віддаємо подію зоні
    const zoneId = e.currentTarget.getAttribute('data-id');          // "UTC+2"
    const code   = (e.currentTarget.getAttribute('data-country') || '').toUpperCase(); // "CY"
    onClick?.(zoneId, code);
  };

  return (
    <path
      className="country"
      data-tt="2"
      data-id="UTC+2"
      data-country="MZ"
      data-label={`${t('countries.mozambique')} ${utc}`}
      onClick={handlePointerUp}
      data-time={ny.display}
      id="Mozambique"
      d="M1031.29 633.948L1032.35 634.989L1031.63 635.323L1032.03 635.838L1030.96 638.156L1031.47 638.552L1032.27 645.192L1031.26 646.203L1032.02 646.406L1032.08 652.963L1032.61 652.583L1032.8 653.026L1032.37 654.422L1032.79 653.745L1033.25 653.984L1033.28 655.604L1032.54 656.041L1032.91 656.526L1032.63 657.578L1028.06 664.156L1024.81 666.182L1019.84 667.76L1019.54 668.516L1014.13 671.49L1013.5 671.318L1014.11 672.307L1011.37 675.891L1008.6 676.844L1003.88 681.464L1002.14 680.12L1003.23 681.182L1002.75 684.943L1004.89 687.135L1004.47 687.906L1005.71 690.693L1006.38 694.094L1006.73 693.031L1007 693.984L1007.12 693.51L1006.03 702.5L1007 701.906L1006.84 703.526L1005.27 705.766L995.138 710.24L993.565 711.438L992.877 712.974L991.893 713.38L993.71 715.037L994.195 713.964L993.945 718.005L990.195 717.969L989.981 713.563L989.382 713.286L989.247 704.38L988.929 702.724L987.309 700.234L986.065 694.698L991.596 688.948L991.955 689.14L991.351 688.005L992.044 685.458L992.872 684.989L994.528 682.192L994.731 681.041L994.335 680.406L993.736 680.494L993.908 677.552L993.039 676.187L994.794 673.672L994.382 665.416L993.335 665.406L984.794 661.937L982.075 661.755L981.695 659.89L980.689 656.588L995.586 651.697L997.632 654.421L1001.38 653.671L1002.41 656.687L1000.69 661.192L1001.54 662.978L1004.39 665.801L1004.81 667.359L1005.82 667.52L1005.06 664.562L1005.89 662.843L1008.28 662.072L1008.7 654.921L1003.72 649.145L1002.87 643.437L1004.22 639.421L1007.36 639.557L1008.61 638.661L1012.14 640.254L1014.45 639.432L1016.6 640.176L1019.72 637.838L1021.67 638.635L1023.73 637.406L1025.55 637.369L1031.29 633.948Z"
      fill="#14D2DC"
    />
  );
}

Country.propTypes = {
  ny: PropTypes.shape({
    display: PropTypes.string.isRequired,
  }).isRequired,
};
