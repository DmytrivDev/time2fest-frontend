import PropTypes from 'prop-types';
import { useTranslation } from 'react-i18next';

export default function Country({ ny, onClick }) {
  const { t } = useTranslation();

  const handlePointerUp = (e) => {
    e.stopPropagation();              // не віддаємо подію зоні
    const zoneId = e.currentTarget.getAttribute('data-id');          // "UTC+2"
    const code   = (e.currentTarget.getAttribute('data-country') || '').toUpperCase(); // "CY"
    onClick?.(zoneId, code);
  };

  return (
    <path
      className="country"
      data-tt="2"
      data-id="UTC+2"
      data-country="SS"
      data-label={`${t('countries.south_sudan')} UTC+2`}
      onPointerUp={handlePointerUp}
      data-time={ny.display}
      fillRule="evenodd"
      clipRule="evenodd"
      d="M993.156 520.827V522.343L989.699 522.128C989.699 522.128 991.141 523.321 991.158 523.458C991.175 523.595 991.115 526.505 991.115 526.505L991.549 526.985L989.449 529.03L988.291 530.899L986.004 533.29L983.209 533.45L979.658 530.839L977.234 531.46V533.388H974.865L973.301 534.761L973.178 535.665H969.91L969.207 534.224H964.918L963.758 534.691H961.781L960.648 532.7C960.648 532.7 960.504 531.962 960.31 531.808C960.116 531.653 959.426 531.196 959.426 531.196L959.379 530.077L956.453 530.052L955.004 530.64L954.638 532.691C954.638 532.691 952.143 533.218 951.978 533.218C951.814 533.218 949.603 533.437 949.603 533.437L948.297 533.683L948.277 533.681L948.201 535.807L947.338 536.578L947.697 538.691L950.807 538.744L951.197 540.822L954.307 541.473L956.129 542.947L956.295 544.041L961.853 549L961.342 550.176L962.103 551.766L963.389 552.109L966.103 554.113L967.045 557.041L968.347 558.088L968.76 559.125L971.748 560.688L972.998 559.916L975.816 560.379L976.801 559.51L978.732 559.328L978.691 560.266L980.697 562.297L982.389 562.807L982.451 564.02L983.894 564.594L985.232 563.234L987.269 563.797L988.572 562.957L989.301 564.094L990.416 564.488L991.613 563.348L994.342 562.729L997.051 563.307L999.426 560.973L1001.36 559.057L1007.85 559.01L1009.04 558.994L1008.23 557.953L1008.49 555.51L1007.69 555.176L1007.66 555.181L1006.52 555.072L1005.28 554.082L1003.13 549.041L1000.54 546.968L998.013 543.906L994.519 542.484L995.691 539.953L998.248 540.097L999.754 539.634L999.904 534.957L1000 534.646L998.715 534.576L998.689 532.992L999.217 532.72L999.433 531.347L996.68 528.757L995.494 528.179L995.297 526.439L994.894 523.853L995.326 522.796L995.713 520.827L993.156 520.827Z"
      fill="#14D2DC"
    />
  );
}

Country.propTypes = {
  ny: PropTypes.shape({
    display: PropTypes.string.isRequired,
  }).isRequired,
};
