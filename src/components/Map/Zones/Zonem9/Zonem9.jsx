import { useMemo } from 'react';
import { getNextNYLocalForUtcOffset } from '@/utils/ny-time';
import clsx from 'clsx';

import USA from './USA';
import FrenchPolinesia from './FrenchPolinesia';

export default function Zone({ onZoneClick }) {
  const ZONE_ID = 'UTC-9';
  const ny = useMemo(() => getNextNYLocalForUtcOffset(ZONE_ID), []);

  const handleZoneClick = () => {
    onZoneClick?.(ZONE_ID); // клік по фону зони
  };

  return (
    <g className={clsx('zone', 'redCtrs')}>
      <g
        className="zoneM"
        data-tt="1"
        data-id={ZONE_ID}
        data-flags="US, PF"
        data-label={ZONE_ID}
        data-time={ny.display}
        onClick={handleZoneClick}
      >
        <path
          d="M200.5 159V0H126V162L118 161.5V162H113.5L109 160.5H102.5L88.5 158L84 157.5L82.5 158.5L80.5 158L79.5 157.5L80 157H76.5L77.5 156L76.5 155.5L77 154.5L69.5 154L68 155L66 154.5V153L65 152L64 152.5L63.5 151.5L63 152V152.5L62 153L60.5 154.5L59.5 155V153L61 152L56.5 150L57 149.5H56L52 153L50 154H48L47 154.5L45.5 155L44 154.5L42.5 155L43 154L41 154.5L38.5 156.5L34.5 159L29 160.5L30.5 159.5L29.5 159L24.5 163.5L22.5 168L21 169.5L18 171L12 172L8.5 171.5L-0.5 176.783V293.5L42 282L63 274.5L109 249L125.741 242V616.856H153.5V647L162.5 664.5V693.5H160V718.5H139.5V729H125.5V912H200.33V713.87H174V692.787H200.5V315L179 299.5L167.5 284L173.5 282.5L177.5 283L183 281H184.5L188 276L187.5 274.5L187 273L187.5 272L187 270.5L184 269L178.5 267L176.5 263.5V262.5L171 254L167 251L165.5 249L163 247.5L161 245L160.5 244.5H160L156.5 245.5V246L155.5 246.5L155 248.5H154L150.5 250.5L150 248L143 242.5L142.5 241.5V240H139.5L138 241L133.5 240.5V165L141 166L142 164.5H142.5L144 165.5L143 166V167L156.5 171.5H157.5L158.5 170.5L158 169L158.5 168L160 168.5L160.5 168H161.5L162 166.5H163H164H165.5L166 164.5L167.5 166H168.5L167 168.5L173 165H175.5L175 164L177 164.5L181 162.5L182 163L183 161H188L189 159.5L190.5 161L193 162.5L196 162V160.5L199.5 160L197.5 159.5L198 158.5H196.5L197.5 156.5L200.5 159Z"
          fill="#D9D9D9"
          fillOpacity="0.01"
        />
        <path
          d="M1776.5 180.5L1782 177V296.5L1774 299V285.5L1751.5 242.5V221.5L1776.5 198.693V180.5Z"
          fill="#D9D9D9"
          fillOpacity="0.01"
        />
      </g>
      <USA ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
      <FrenchPolinesia ny={ny} utc={ZONE_ID} onClick={onZoneClick} />
    </g>
  );
}
