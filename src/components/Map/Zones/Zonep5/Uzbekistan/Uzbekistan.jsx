import PropTypes from 'prop-types';
import { useTranslation } from 'react-i18next';

export default function Country({ ny, utc, onClick }) {
  const { t } = useTranslation();

  const handlePointerUp = e => {
    e.stopPropagation();
    const zoneId = e.currentTarget.getAttribute('data-id');
    const code = (
      e.currentTarget.getAttribute('data-country') || ''
    ).toUpperCase();
    onClick?.(zoneId, code);
  };

  return (
    <g
      id="Uzbekistan"
      className="countryGr"
      data-tt="2"
      data-id={utc}
      data-country="UZ"
      data-label={`${t('countries.uzbekistan')} ${utc}`}
      onClick={handlePointerUp}
      data-time={ny.display}
    >
      <path
        d="M1120.81 339.426L1133.37 346.593L1138.15 352.067L1144.02 351.15L1150.62 351.478L1152.71 350.765L1157.3 355.234L1158.3 355.067L1158.16 360.937L1160.44 360.978L1161.58 365.9L1167.4 365.723L1168.47 366.655L1167.82 367.9L1170.29 369.192L1170.94 369.093L1170.93 367.181L1173.03 365.156L1182.43 359.437L1183.93 359.739L1178.55 363.749L1179.97 364.437L1181.06 364.051L1181.57 365.437L1184.74 366.077L1184.83 364.807L1185.6 364.942L1185.64 363.958L1186.37 364.161L1187.39 365.692L1188.35 365.681L1188.49 366.827L1193.22 367.765L1190.77 369.686L1189.35 369.192L1189.59 370.468L1188.64 370.015L1187.76 371.192L1186.36 371.759L1184.39 370.968L1182.48 371.301L1181.29 371.515L1179.43 370.28L1181.56 368.483L1179.92 366.64L1176.33 368.947L1174.43 368.207L1173.74 369.405L1174.14 371.582L1170.89 371.655L1172.72 372.207L1172.01 372.353L1171.93 373.457L1171.56 372.812L1170.9 373.556L1170.34 375.348L1166.32 374.905L1164.96 375.739L1164.58 376.869L1166.21 378.447L1168.61 379.093L1168.31 381.682L1169.55 383.004L1166.81 387.494L1166.63 388.963L1164.08 388.968L1163.1 387.999L1160.48 387.932L1161.12 384.411L1158.08 382.916L1155.98 382.905L1140.62 372.968L1139.76 370.494L1136.67 365.619L1135.24 365.082L1134.52 365.905L1130.26 365.442L1129.12 364.765L1128.51 364.192L1128.95 363.197L1128.54 362.624L1129.48 362.218L1127.78 361.155L1128.43 359.832L1124.66 358.905L1123.8 357.697L1123.06 357.78L1121.31 356.228L1119.93 357.869L1120.78 359.114L1118.45 357.931L1117.6 359.76L1114.24 360.707L1113.2 363.109L1114.18 364.661L1108.32 364.931L1108.31 342.858L1120.8 339.426"
        fill="#5DBD39"
      />
    </g>
  );
}

Country.propTypes = {
  ny: PropTypes.shape({
    display: PropTypes.string.isRequired,
  }).isRequired,
};
